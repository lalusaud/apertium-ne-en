<?xml version="1.0" encoding="utf-8"?>
<transfer default="chunk">
  <section-def-cats>
    <def-cat n="nom">
      <cat-item tags="n.*"/>
      <cat-item tags="np.*"/>
    </def-cat>
    <def-cat n="adj">
      <cat-item tags="adj"/>
      <cat-item tags="adj.*"/>
    </def-cat>
    <def-cat n="article">
      <cat-item lemma="the" tags="det.*"/>
      <cat-item lemma="a" tags="det.*"/>
    </def-cat>

    <def-cat n="det">
      <cat-item tags="det.dem.*"/>
      <cat-item tags="det.ind.*"/>
      <cat-item tags="det.def.*"/>
      <cat-item tags="det.pos.*"/>
      <cat-item tags="det.qnt.*"/>
      <cat-item tags="det.itg.*"/>
      <cat-item tags="det.ord.*"/>
      <cat-item tags="predet.*"/>
      <cat-item tags="rel.aa.*"/>
    </def-cat>

    <def-cat n="vbdo">
      <cat-item tags="vbdo"/>
      <cat-item tags="vbdo.*"/>
    </def-cat>

    <def-cat n="on">
      <cat-item lemma="on" tags="pr"/>
    </def-cat>
    <def-cat n="in">
      <cat-item lemma="in" tags="pr"/>
    </def-cat>
    <def-cat n="genitive">
      <cat-item tags="gen"/>
    </def-cat>
    <def-cat n="direction">
      <cat-item lemma="direction" tags="n.*"/>
    </def-cat>
    <def-cat n="vblex">
      <cat-item tags="vblex.*"/>
    </def-cat>
    <def-cat n="vb">
      <cat-item tags="vblex.*"/>
      <cat-item tags="vbser.*"/>
    </def-cat>

    <def-cat n="ger">
      <cat-item tags="vblex.ger"/>
      <cat-item tags="reporting.ger"/>
      <cat-item tags="vblex.sep.ger"/>
      <cat-item tags="vbser.ger"/>
    </def-cat>

    <def-cat n="verbcj">
      <cat-item tags="vblex.pres"/>
      <cat-item tags="vblex.pres.*"/>
      <cat-item tags="vblex.past"/>
      <cat-item tags="vblex.past.*"/>
      <cat-item tags="vblex.pri.*"/>

      <cat-item tags="vblex.sep.pres"/>
      <cat-item tags="vblex.sep.past"/>
      <cat-item tags="vblex.sep.past.*"/>
      <cat-item tags="vblex.sep.pri.*"/>

      <cat-item tags="vbhaver.pres"/>
      <cat-item tags="vbhaver.pres.*"/>
      <cat-item tags="vbhaver.past"/>
      <cat-item tags="vbhaver.pri.*"/>
      <cat-item lemma="can" tags="vaux.*"/>      
    </def-cat>

    <def-cat n="preadv">
      <cat-item tags="preadv"/>
    </def-cat>

    <def-cat n="prnsubj">
      <cat-item tags="prn.subj.*"/>
    </def-cat>

    <def-cat n="helpverb">
      <cat-item tags="vbser.pres"/>
      <cat-item tags="vbser.pres.*"/>
      <cat-item tags="vbser.past"/>
      <cat-item tags="vbser.past.*"/>
      <cat-item tags="vbser.pri.*"/>
    </def-cat>

    <def-cat n="be">
      <cat-item lemma="be" tags="vbser.*"/>
    </def-cat>

    <def-cat n="cnj">
      <cat-item tags="cnjcoo"/>
      <cat-item tags="cnjsub"/>
      <cat-item tags="cnjadv"/>
    </def-cat>

    <def-cat n="cnjcoo">
      <cat-item lemma="and" tags="cnjcoo"/>
      <cat-item lemma="or" tags="cnjcoo"/>
    </def-cat>
  </section-def-cats>

  <section-def-attrs>
    <def-attr n="a_nom">
      <attr-item tags="n"/>
      <attr-item tags="np"/>
    </def-attr>
    <def-attr n="a_gen">
      <attr-item tags="m"/>
      <attr-item tags="f"/>
      <attr-item tags="nt"/>
      <attr-item tags="mf"/>
    </def-attr>
    <def-attr n="a_nbr">
      <attr-item tags="sg"/>
      <attr-item tags="pl"/>
      <attr-item tags="sp"/>
    </def-attr>
    <def-attr n="a_tns">
      <attr-item tags="pres"/>
      <attr-item tags="past"/>
      <attr-item tags="inf"/>
    </def-attr>
    <def-attr n="a_verb">
      <attr-item tags="vbser"/>
      <attr-item tags="vblex"/>	  
      <attr-item tags="vblex.pron"/>
      <attr-item tags="vbhaver"/>
      <attr-item tags="vbmod"/>
    </def-attr>
    <def-attr n="a_det">
      <attr-item tags="det"/>
    </def-attr>

    <def-attr n="a_ant">
	<attr-item tags="ant"/>
    </def-attr>

    <def-attr n="a_adj">
      <attr-item tags="adj"/>
    </def-attr>

    <def-attr n="a_adv">
      <attr-item tags="adv"/>
      <attr-item tags="preadv"/>
      <attr-item tags="adv.itg"/>
      <attr-item tags="cnjadv"/>
    </def-attr>

    <def-attr n="a_prn">
      <attr-item tags="prn"/>
    </def-attr>

    <def-attr n="a_subj">
      <attr-item tags="subj"/>	  
    </def-attr>

    <def-attr n="a_pers">
      <attr-item tags="p1"/>
      <attr-item tags="p2"/>
      <attr-item tags="p3"/>
      <attr-item tags="PD"/>
    </def-attr>

    <def-attr n="temps">
      <attr-item tags="cni"/>
      <attr-item tags="fti"/>  
      <attr-item tags="ifi"/>
      <attr-item tags="imp"/>
      <attr-item tags="pii"/>
      <attr-item tags="pis"/>
      <attr-item tags="inf"/>
      <attr-item tags="prs"/>
      <attr-item tags="pres"/>
      <attr-item tags="past"/>
      <attr-item tags="pri"/>
      <attr-item tags="pp"/>
      <attr-item tags="ger"/>
      <attr-item tags="pprs"/>
      <attr-item tags="subs"/>
    </def-attr>
  </section-def-attrs>

  <section-def-vars>
    <def-var n="number"/>
    <def-var n="case"/>
    <def-var n="genere"/>
    <def-var n="pers_chunk"/>
    <def-var n="nbr_chunk"/>
    <def-var n="temps_chunk"/>
    <def-var n="gen_chunk"/>
    <def-var n="lema_SV"/>
    <def-var n="verbfinal"/>
    <def-var n="det_chunk"/>
  </section-def-vars>

  <section-def-lists>
    <def-list n="persons">
      <list-item v="p1"/>
      <list-item v="p2"/>
      <list-item v="p3"/>
      <list-item v="PD"/>
    </def-list>
  </section-def-lists>

  <section-def-macros>
	<def-macro n="elimina_GDND" npar="1">
	      <choose>
		<when>
		  <test>
		    <equal>
		      <clip pos="1" side="tl" part="gen"/>
		      <lit-tag v="GD"/>
		    </equal>
		  </test>
		  <let>
		      <clip pos="1" side="tl" part="gen"/>
		      <lit-tag v="m"/>
		  </let>
		</when>
	      </choose>
	      <choose>
		<when>
		  <test>
		    <equal>
		      <clip pos="1" side="tl" part="nbr"/>
		      <lit-tag v="ND"/>
		    </equal>
		  </test>
		  <let>
		      <clip pos="1" side="tl" part="nbr"/>
		      <lit-tag v="sg"/>
		  </let>
		</when>
	      </choose>  
	</def-macro>

    <def-macro n="determiner" npar="1"><!-- to put in rules beginning with a determiner -->
      <choose>
	<when>
	  <test>
	      <equal>
		<clip pos="1" side="tl" part="a_det"/>
		<lit-tag v="det.ord"/>
	      </equal>
	  </test>
	  <let>
	    <var n="det_chunk"/>
	    <lit-tag v="UNDET"/>
	  </let>
	</when>
	<when>
	  <test>
	      <equal>
		<clip pos="1" side="tl" part="a_det"/>
		<lit-tag v="det.qnt"/>
	      </equal>
	  </test>
	  <let>
	    <var n="det_chunk"/>
	    <lit-tag v="UNDEF"/>
	  </let>
	</when>
	<otherwise>
	  <let>
	    <var n="det_chunk"/>
	    <lit-tag v="DET"/>
	  </let>
	</otherwise>
      </choose>
    </def-macro>

  </section-def-macros>

  <section-rules>

    <!-- Sintagmas nominales -->

    <rule comment="REGLA: PRONOM">
      <pattern>
        <pattern-item n="prnsubj"/>
      </pattern>
      <action>
        <out>
          <chunk name="prnsubj" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="subj"/></tag>
              <tag><clip pos="1" side="tl" part="a_pers"/></tag>
              <tag><clip pos="1" side="tl" part="a_gen"/></tag>
              <tag><clip pos="1" side="tl" part="a_nbr"/></tag>
            </tags>
            <lu>   
              <clip pos="1" side="tl" part="lem"/>  
              <clip pos="1" side="tl" part="a_prn"/>  
              <clip pos="1" side="tl" part="a_subj" link-to="2"/>
              <!-- <clip pos="1" side="tl" part="tipus_prn" link-to="2"/>  -->
              <clip pos="1" side="tl" part="a_pers" link-to="3"/>
              <clip pos="1" side="tl" part="a_gen" link-to="4"/>
              <clip pos="1" side="tl" part="a_nbr" link-to="5"/>
            </lu> 
          </chunk>
        </out>
      </action>
    </rule> 

    <rule comment="REGLA: NOM">
      <pattern>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <out>
          <chunk name="nom" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="1" side="tl" part="a_gen"/></tag>
              <tag><clip pos="1" side="tl" part="a_nbr"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
<!--
              <clip pos="1" side="tl" part="lem"/>
              <clip pos="1" side="tl" part="a_nom"/>
              <clip pos="1" side="tl" part="gen" link-to="2"/>
              <clip pos="1" side="tl" part="a_nbr" link-to="3"/>
              <lit-tag v="4"/>
-->              
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="REGLA: PREADV">
      <pattern>
        <pattern-item n="preadv"/>
      </pattern>
      <action>
        <out>
          <chunk name="preadv" case="caseFirstWord">
            <tags>
              <tag><clip pos="1" side="tl" part="a_adv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

<!--
    <rule comment="REGLA: ARTICLE NOM">
      <pattern>
        <pattern-item n="article"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <out>
          <chunk name="nom" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>
-->

    <rule comment="REGLA: ARTICLE NOM">
      <pattern>
        <pattern-item n="article"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <out>
          <chunk name="det_nom" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="DET"/></tag>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="a_nbr"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lem"/>
              <clip pos="1" side="tl" part="a_det"/>
              <clip pos="1" side="tl" part="a_nbr" link-to="3"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="REGLA: on ARTICLE NOM - on the cat">
      <pattern>
        <pattern-item n="on"/>
        <pattern-item n="article"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <out>
          <chunk name="nom_on" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
            </tags>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>





    <rule comment="REGLA: in NOM's direction  - NOM tira ko">
      <pattern>
        <pattern-item n="in"/>
        <pattern-item n="nom"/>
        <pattern-item n="genitive"/>
        <pattern-item n="direction"/>
      </pattern>
      <action>
        <out>
          <chunk name="nom_onxxx" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


    <rule comment="REGLA: in NOM's direction  - NOM tira ko">
      <pattern>
        <pattern-item n="in"/>
        <pattern-item n="article"/>
        <pattern-item n="nom"/>
        <pattern-item n="genitive"/>
        <pattern-item n="direction"/>
      </pattern>
      <action>
        <out>
          <chunk name="nom_onxxx" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
            </tags>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
            <lu>
              <clip pos="5" side="tl" part="whole"/>
            </lu>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="REGLA: ARTICLE ADJ NOM">
      <pattern>
        <pattern-item n="article"/>
        <pattern-item n="adj"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <out>
          <chunk name="det_adj_nom" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
	      <clip pos="3" side="tl" part="a_gen"/>
            </lu>
	  <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="REGLA: ARTICLE PREADV ADJ NOM">
      <pattern>
        <pattern-item n="article"/>
        <pattern-item n="preadv"/>
        <pattern-item n="adj"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <out>
          <chunk name="det_preadv_adj_nom" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
	      <clip pos="4" side="tl" part="a_gen"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>



    <rule comment="REGLA: ADJ NOM (good friends)">
      <pattern>
        <pattern-item n="adj"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <out>
          <chunk name="adj_nom" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
            </tags>
            <lu>
		<clip pos="1" side="tl" part="whole"/>
		<clip pos="2" side="tl" part="a_nbr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="REGLA: PREADV ADJ NOM">
      <pattern>
        <pattern-item n="preadv"/>
        <pattern-item n="adj"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <out>
          <chunk name="preadv_adj_nom" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
	      <clip pos="3" side="tl" part="a_nbr"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

<!-- ************************* REGLA SV ************************************ -->

    <rule comment="REGLA: VERB helpverb (be)">
      <pattern>
          <pattern-item n="helpverb"/>
      </pattern>
      <action>
        <choose>

          <!-- If the verb is present [example: is, am, are]-->
          <when>
            <test>
              <equal>
                <clip pos="1" side="sl" part="temps"/>
                <lit-tag v="pres"/>
              </equal>
            </test>
            <let>
              <clip pos="1" side="tl" part="temps"/>
              <lit-tag v="pri"/>
            </let>

            <choose>
              <when>
                <test>
                  <in caseless="yes">
                    <clip pos="1" side="tl" part="a_pers"/>
                    <list n="persons"/>
                  </in>
                </test>
                <let>
                  <var n="pers_chunk"/>
                  <clip pos="1" side="tl" part="a_pers"/>
                </let>
              </when>
              <otherwise>
                <let>
                  <var n="pers_chunk"/>
                  <lit-tag v="PD"/>
                </let>
              </otherwise>
            </choose>
	    
	    <choose>
		<when>
		   <test>
			<equal>
		           <clip pos="1" side="tl" part="a_nbr"/>
			   <lit-tag v="sg"/>
			</equal>
		   </test>
		   <let>
		      <var n="nbr_chunk"/>
		      <clip pos="1" side="tl" part="a_nbr"/>
		   </let>
		</when>
		<otherwise>
		    <let>
		      <var n="nbr_chunk"/>
		      <lit-tag v="pl"/>
		    </let>
		</otherwise>
	    </choose>

            <let>
              <var n="lema_SV"/>
              <lit v="be"/>
            </let>
            <let>
              <var n="temps_chunk"/>
              <clip pos="1" side="tl" part="temps"/>
            </let>
            <let>
              <var n="gen_chunk"/>
              <lit-tag v="GD"/>
            </let>
            <let>
              <var n="verbfinal"/>
              <concat>
                <clip pos="1" side="tl" part="lemh"/>
                <lit-tag v="vbser"/>
                <lit-tag v="2"/>
                <lit-tag v="3"/>
                <lit-tag v="4"/>
                <lit-tag v="5"/>
                <clip pos="1" side="tl" part="lemq"/>
              </concat>
            </let>
          </when>

          <!-- If the verb is past [example: was, were]-->
          <when>
            <test>
              <equal>
                <clip pos="1" side="tl" part="temps"/>
                <lit-tag v="past"/>
              </equal>
            </test>
            <let>
              <var n="lema_SV"/>
              <lit v="be"/>
            </let>
            <let>
              <var n="temps_chunk"/>
              <clip pos="1" side="sl" part="temps"/>
            </let>
            <let>
              <var n="nbr_chunk"/>
              <lit-tag v="ND"/>
            </let>
            <let>
              <var n="gen_chunk"/>
              <lit-tag v="GD"/>
            </let>
            <let>
              <var n="verbfinal"/>
              <concat>
                <clip pos="1" side="tl" part="lemh"/>
                <lit-tag v="vbser"/>
                <lit-tag v="2"/>
                <lit-tag v="3"/>
                <lit-tag v="4"/>
                <clip pos="1" side="tl" part="lemq"/>
              </concat>
            </let>
          </when>
        </choose>
        <out>
          <chunk namefrom="lema_SV" case="caseFirstWord">
            <tags>
              <!-- <tag><lit-tag v="Vcop"/></tag> -->
              <tag><lit-tag v="vbser"/></tag>
      	      <tag><var n="temps_chunk"/></tag>
      	      <tag><var n="pers_chunk"/></tag>
              <tag><var n="gen_chunk"/></tag>
      	      <tag><var n="nbr_chunk"/></tag>
            </tags>
            <lu>
		          <var n="verbfinal"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


    <rule comment="REGLA: VERB">
      <pattern>
        <pattern-item n="verbcj"/>
      </pattern>
      <action>
	  <let>
		   <var n="lema_SV"/>
		   <lit v="verbcj"/>
	  </let>
          <choose>
		<when>
		    <test>
			<and>
			    <equal>
				<clip pos="1" side="sl" part="temps"/>
				<lit-tag v="pres"/>
			    </equal>
			    <equal>
				<clip pos="1" side="sl" part="a_verb"/>
				<lit-tag v="vblex"/>
			    </equal>
			</and>			
		    </test>
    		    <let>
    			<clip pos="1" side="tl" part="temps"/>
    			<lit-tag v="pri"/>
    		    </let>
		    <let>
			<var n="pers_chunk"/>
			<lit-tag v="PD"/>
		    </let>
		    <let>
			<var n="gen_chunk"/>
			<lit-tag v="GD"/>
		    </let>
		</when>
           </choose>
	   <let>
		    	<var n="temps_chunk"/>
		    	<clip pos="1" side="tl" part="temps"/>
	   </let>
	   <let>
		<var n="nbr_chunk"/>
		<lit-tag v="ND"/>
	   </let>
	   <let>
			<var n="verbfinal"/>
			<concat>
			  <clip pos="1" side="tl" part="lemh"/>
			  <lit-tag v="2"/>
			  <lit-tag v="3"/>
			  <lit-tag v="4"/>
			  <lit-tag v="5"/>
			  <lit-tag v="6"/>
			  <clip pos="1" side="tl" part="lemq"/>
			</concat>
	   </let>
        <out>
          <chunk namefrom="lema_SV" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SV"/></tag>
              <tag><clip pos="1" side="tl" part="a_verb"/></tag>
	      <tag><var n="temps_chunk"/></tag>
	      <tag><var n="pers_chunk"/></tag>
	      <tag><var n="gen_chunk"/></tag>
	      <tag><var n="nbr_chunk"/></tag>
              <!-- <tag><clip pos="1" side="tl" part="a_tns"/></tag> -->
            </tags>
            <lu>
		<var n="verbfinal"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="REGLA: GER">
	<pattern>
	   <pattern-item n="ger"/>
	</pattern>
	<action>
	    <out>
		<chunk name="ger" case="caseFirstWord">
		    <tags>
			<tag><lit-tag v="SV"/></tag>
			<tag><var n="temps_chunk"/></tag>
			<tag><lit-tag v="ger"/></tag>
		    </tags>
		    <lu>
			<clip pos="1" side="tl" part="whole"/>
		    </lu>
		</chunk>
	     </out>
	</action>
    </rule>

    <rule comment="REGLA: BE GER (am saying -> भन्दैछु)">
      <pattern>
        <pattern-item n="be"/>
        <pattern-item n="ger"/>
      </pattern>
      <action>
        <choose>
          <when>
            <test>
              <equal>
                <clip pos="1" side="sl" part="temps"/>
                <lit-tag v="past"/>
              </equal>
            </test>
            <let>
                <var n="temps_chunk"/>
                <lit-tag v="vblex"/>
            </let>
            <out>
              <chunk name="verbcj" case="caseFirstWord">
              <tags>
                <tag><lit-tag v="SV"/></tag>
                <tag><var n="temps_chunk"/></tag>
                <tag><var n="pers_chunk"/></tag>
                <tag><var n="nbr_chunk"/></tag>
              </tags>
              <lu>
                <var n="verbfinal"/>
                <concat>
                  <clip pos="1" side="tl" part="lem"/>
                  <lit-tag v="vbser"/>
                  <lit-tag v="2"/>
                  <lit-tag v="3"/>
                  <lit-tag v="4"/>
                  <lit-tag v="5"/>
                </concat>
              </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
            <let>
              <var n="temps_chunk"/>
              <lit-tag v="pri"/>
            </let>
            <let>
              <var n="pers_chunk"/>
              <lit-tag v="PD"/>
            </let>
            <let>
              <var n="gen_chunk"/>
              <lit-tag v="GD"/>
            </let>
            <let>
              <var n="nbr_chunk"/>
              <lit-tag v="ND"/>
            </let>

            <out>
              <chunk name="be_ger" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SV"/></tag>
                  <tag><var n="temps_chunk"/></tag>
                  <tag><lit-tag v="ger"/></tag>
                  <tag><var n="pers_chunk"/></tag>
                  <tag><var n="gen_chunk"/></tag>
                  <tag><var n="nbr_chunk"/></tag>
                </tags>
                <lu>
                  <clip pos="2" side="tl" part="lemh"/> 
                  <clip pos="2" side="tl" part="a_verb"/>
                  <clip pos="2" side="tl" part="temps"/>
                  <clip pos="2" side="tl" part="lemq"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <var n="verbfinal"/>
                  <concat>
                    <clip pos="1" side="tl" part="lem"/>
                    <lit-tag v="vbser"/>
                    <lit-tag v="2"/>
                    <lit-tag v="3"/>
                    <lit-tag v="4"/>
                    <lit-tag v="5"/>
                    <lit-tag v="6"/>
                  </concat>
                </lu>
              </chunk>
            </out>
          </otherwise>
        </choose>
      </action>
    </rule>

    <rule comment="REGLA: NOM1 and NOM2 (Ram and Shyam => राम र श्याम)">
      <pattern>
	<pattern-item n="nom"/>
	<pattern-item n="cnjcoo"/>
	<pattern-item n="nom"/>
      </pattern>
      <action>	
	<call-macro n="elimina_GDND">
	  <with-param pos="3"/>
	</call-macro>
	<call-macro n="elimina_GDND">
	  <with-param pos="1"/>
	</call-macro>
	<let><var n="genere"/><lit-tag v="mf"/></let>

	<out> 
	  <chunk name="nom_conj_nom" case="caseFirstWord">
	    <tags>
	      <tag><lit-tag v="SN.UNDET"/></tag>
	      <tag><var n="genere"/></tag>
	      <tag><lit-tag v="pl"/></tag>
	    </tags>
	    <lu>  
	      <clip pos="1" side="tl" part="lemh"/> 
	      <clip pos="1" side="tl" part="a_nom"/>
	      <clip pos="1" side="tl" part="a_ant"/>
	      <clip pos="1" side="tl" part="a_gen"/>
	      <clip pos="1" side="tl" part="a_nbr"/>
	      <clip pos="1" side="tl" part="lemq"/>  
	    </lu> 
	    <b pos="1"/>
	    <lu>
	      <clip pos="2" side="tl" part="whole"/>
	    </lu>
	    <b pos="2"/>
	    <lu>  
	      <clip pos="3" side="tl" part="lemh"/> 
	      <clip pos="3" side="tl" part="a_nom"/>
	      <clip pos="1" side="tl" part="a_ant"/>
	      <clip pos="3" side="tl" part="a_gen"/>
	      <clip pos="3" side="tl" part="a_nbr"/>
	      <clip pos="3" side="tl" part="lemq"/>  
	    </lu> 
	  </chunk>
	</out>
      </action>
    </rule>

    <rule comment="REGLA: DETERMINANT ">          
      <pattern>
	<pattern-item n="det"/>
      </pattern>
      <action>
	<out>
	  <chunk name="det" case="caseFirstWord">
	    <tags>
	      <tag><lit-tag v="DET"/></tag>
	      <tag><clip pos="1" side="tl" part="gen"/></tag>
	      <tag><clip pos="1" side="tl" part="nbr"/></tag>
	    </tags>
	    <lu>
	      <clip pos="1" side="tl" part="whole"/> 
	    </lu>	
	  </chunk>
	</out>
      </action>
    </rule>

    <rule comment="REGLA: DET VBDO ('When do' you play?) ">          
      <pattern>
	<pattern-item n="det"/>
	<pattern-item n="vbdo"/>
      </pattern>
      <action>
	<out>
	  <chunk name="vbdo" case="caseFirstWord">
	    <tags>
	      <tag><lit-tag v="vbdo"/></tag>
	    </tags>
	    <lu>
	      <clip pos="1" side="tl" part="whole"/>
	    </lu>	
	  </chunk>
	</out>
      </action>
    </rule> 

  </section-rules>
</transfer>
